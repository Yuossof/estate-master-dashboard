import{j as e,I as i,a as _,P as g,u as f,r as p,C as b,c as j,A as y,D as N}from"./index-DSdmN7-O.js";import{T as h}from"./Textarea-i9eGARvf.js";import{C as v,c as w}from"./companySchema-nDP4xM9G.js";const k=({companyData:s,setCompanyData:l,handleSubmit:d,errors:t,setErrors:c,isLoading:o})=>{const r=x=>{const{name:a,value:n}=x.target;c(m=>({...m,[a]:""})),l(m=>({...m,[a]:n}))};return e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),e.jsx(i,{type:"text",placeholder:"Name",name:"name",id:"name",value:s.name,onChange:r}),t.name&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.name]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name_ar",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name Arabic"}),e.jsx(i,{type:"text",placeholder:"Name Arabic",name:"name_ar",id:"name_ar",value:s.name_ar,onChange:r}),t.name_ar&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.name_ar]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"color",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Color"}),e.jsx(v,{className:"mt-2",value:s.color,onChange:x=>l(a=>({...a,color:x}))}),t.color&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.color]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"facebook_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Facebook"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"facebook_url",id:"facebook_url",value:s.facebook_url,onChange:r}),t.facebook_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.facebook_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"about_us_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"About Us"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"about_us_url",id:"about_us_url",value:s.about_us_url,onChange:r}),t.about_us_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.about_us_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"privacy_policy_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Privacy Policy"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"privacy_policy_url",id:"privacy_policy_url",value:s.privacy_policy_url,onChange:r}),t.privacy_policy_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.privacy_policy_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"instagram_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Instagram"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"instagram_url",id:"instagram_url",value:s.instagram_url,onChange:r}),t.instagram_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.instagram_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"twitter_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Twitter"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"twitter_url",id:"twitter_url",value:s.twitter_url,onChange:r}),t.twitter_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.twitter_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"youtube_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Youtube"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"youtube_url",id:"youtube_url",value:s.youtube_url,onChange:r}),t.youtube_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.youtube_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"website_url",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Website"}),e.jsx(i,{type:"text",placeholder:"https://example.com",name:"website_url",id:"website_url",value:s.website_url,onChange:r}),t.website_url&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.website_url]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"hotline",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Hotline"}),e.jsx(i,{type:"text",placeholder:"EX:00000",name:"hotline",id:"hotline",value:s.hotline,onChange:r}),t.hotline&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.hotline]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"fees_per_point",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Fees per point"}),e.jsx(i,{type:"text",placeholder:"Fees",name:"fees_per_point",id:"fees_per_point",value:s.fees_per_point,onChange:r}),t.fees_per_point&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.fees_per_point]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"logo",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Logo"}),e.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[e.jsxs("label",{htmlFor:"logo",className:"flex flex-col items-center justify-center w-full h-32 px-3 border-2 border-dashed border-gray-300 dark:border-[var(--border-primary)] rounded-md cursor-pointer hover:border-blue-500 dark:hover:border-sky-400 transition-colors",children:[s.image?e.jsx("img",{src:s.image instanceof File?URL.createObjectURL(s.image):s.image,alt:"Company Logo",className:"w-20 h-20 object-contain mb-2 border-[1px] border-slate-200 rounded-md"}):e.jsx(_,{size:40,className:"mb-2 text-gray-400"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Update Image"})]}),e.jsx("input",{type:"file",name:"logo",id:"logo",className:"hidden",onChange:x=>{const a=x.target.files[0];l(n=>({...n,image:a,imagePreview:a?URL.createObjectURL(a):null}))}})]}),t.image&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.image]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-w-[150px]",children:[e.jsx("label",{htmlFor:"description",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Description"}),e.jsx(h,{placeholder:"Description",name:"description",id:"description",value:s.description,onChange:r}),t.description&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.description]})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-[150px]",children:[e.jsx("label",{htmlFor:"description_ar",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Description Arabic"}),e.jsx(h,{placeholder:"Description Arabic",name:"description_ar",id:"description_ar",value:s.description_ar,onChange:r}),t.description_ar&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.description_ar]})]})]})]}),e.jsx("div",{className:"mt-6 flex w-full md:justify-end",children:e.jsxs("button",{disabled:o,style:{opacity:o?"0.6":"1"},type:"button",className:"btn-primary flex items-center gap-3 justify-center h-10 px-3 rounded-md md:w-auto w-full",onClick:d,children:[e.jsx("span",{children:"Create"}),e.jsx(g,{})]})})]})},C={name:"",name_ar:"",description:"",description_ar:"",color:"#000000",facebook_url:"",privacy_policy_url:"",about_us_url:"",instagram_url:"",twitter_url:"",youtube_url:"",website_url:"",hotline:"",fees_per_point:"",image:null},L=()=>{const s=f(),[l,d]=p.useState(C),[t,c]=p.useState(!1),[o,r]=p.useState({}),x=async()=>{try{const a=new FormData;try{await w.validate(l,{abortEarly:!1}),a.append("name",l.name),a.append("name_ar",l.name_ar),a.append("description",l.description),a.append("description_ar",l.description_ar),a.append("color",l.color),a.append("facebook_url",l.facebook_url),a.append("privacy_policy_url",l.privacy_policy_url),a.append("about_us_url",l.about_us_url),a.append("instagram_url",l.instagram_url),a.append("twitter_url",l.twitter_url),a.append("youtube_url",l.youtube_url),a.append("website_url",l.website_url),a.append("hotline",l.hotline),a.append("fees_per_point",l.fees_per_point),a.append("images[]",l.image),r({})}catch(n){if(n.inner){const m={};n.inner.forEach(u=>{m[u.path]=u.message}),r(m)}return}c(!0),await j(a),s("/companies")}catch(a){a instanceof y?r(a.errors):r(N.errors)}finally{c(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-100 dark:border-[var(--border-secondary)]",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-50 tracking-tight",children:"Create New Company"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1.5",children:"Fill in the details below to register a new company"})]}),e.jsx(k,{companyData:l,setCompanyData:d,errors:o,setErrors:r,handleSubmit:x,isLoading:t})]})})};export{L as default};
