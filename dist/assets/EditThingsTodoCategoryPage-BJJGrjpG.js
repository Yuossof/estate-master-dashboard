import{j as e,I as f,a as j,b as y,S as b,u as N,d as v,r as o,C as w,Q as E,A as k,D as _}from"./index-DSdmN7-O.js";import{u as C}from"./things-todo-categories-D0T3wXps.js";const F=({thingsTodoCategoryData:r,setThingsTodoCategoryData:x,handleSubmit:n,errors:a,setErrors:c,isLoading:d})=>{const l=m=>{const{name:s,value:i}=m.target;c(t=>({...t,[s]:""})),x(t=>({...t,[s]:i}))};return e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),e.jsx(f,{type:"text",placeholder:"Name",name:"name",id:"name",value:r.name,onChange:l}),a.name&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",a.name[0]]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name_ar",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name Arabic"}),e.jsx(f,{type:"text",placeholder:"Name Arabic",name:"name_ar",id:"name_ar",value:r.name_ar,onChange:l}),a.name_ar&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",a.name_ar[0]]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"image",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Image"}),e.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[e.jsxs("label",{htmlFor:"image",className:"flex flex-col items-center justify-center w-full h-32 px-3 border-2 border-dashed border-gray-300 dark:border-[var(--border-primary)] rounded-md cursor-pointer hover:border-blue-500 dark:hover:border-sky-400 transition-colors",children:[r.image?e.jsx("img",{src:r.image instanceof File?URL.createObjectURL(r.image):r.image,alt:"Company Logo",className:"w-20 h-20 object-contain mb-2 border-[1px] border-slate-200 rounded-md"}):e.jsx(j,{size:40,className:"mb-2 text-gray-400"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Update Image"})]}),e.jsx("input",{type:"file",name:"image",id:"image",className:"hidden",onChange:m=>{const s=m.target.files[0];x(i=>({...i,image:s,imagePreview:s?URL.createObjectURL(s):null}))}})]}),a.image&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",a.image]})]})]})}),e.jsxs("div",{className:"mt-6 flex w-full md:justify-end",children:[e.jsx(y,{}),e.jsxs("button",{disabled:d,style:{opacity:d?"0.6":"1"},type:"button",className:"btn-primary flex items-center gap-3 justify-center h-9 px-3 rounded-md md:w-auto w-full",onClick:n,children:[e.jsx("span",{children:"Update"}),e.jsx(b,{})]})]})]})},I=()=>{const r=N(),n=v().state.rowData,[a,c]=o.useState({}),[d,l]=o.useState(!1),[m,s]=o.useState({});o.useEffect(()=>{c(n),console.log("ex",n)},[n]);const i=async()=>{console.log(a);try{const t=new FormData;try{t.append("name",a.name),t.append("name_ar",a.name_ar),t.append("image",a.image),s({})}catch(p){if(p.inner){const h={};p.inner.forEach(u=>{h[u.path]=u.message}),s(h)}return}l(!0);const g=await C(t,a.id);E.success(g.message||g.massage),g.status==="success"&&r("/things-todo-categories")}catch(t){t instanceof k?s(t.errors):s(_.errors)}finally{l(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs("div",{className:"mb-8 mt-2",children:[e.jsx("h1",{className:"md:text-2xl text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Edit Things Todo Category"}),e.jsx("p",{className:"text-gray-600 md:text-base text-[14px] dark:text-gray-400 mt-2"})]}),e.jsx(F,{thingsTodoCategoryData:a,setThingsTodoCategoryData:c,errors:m,setErrors:s,handleSubmit:i,isLoading:d})]})})};export{I as default};
