import{u as C,r as s,j as e,N as S,w,S as I,T as P,A,Q as v,D as E,C as D,y as R,F as _,z as L,G as z}from"./index-DSdmN7-O.js";import{d as F,g as K}from"./things-todo-categories-D0T3wXps.js";const O=({columns:u,thingsTodoCategories:t=[],setThingsTodoCategories:b,setRefetch:y,refetch:g})=>{const f=C(),[n,i]=s.useState(!1),[d,p]=s.useState(null),[m,c]=s.useState(!1),[x,h]=s.useState(!1),[l,o]=s.useState(null),N=async()=>{try{c(!0);const a=await F(d);i(!1);const r=t.filter(T=>T.id!==d);b(r),r.length===0&&y(!g),console.log("success data",a)}catch(a){a instanceof A?v.error(a.errors):v.error(E.errors)}finally{c(!1)}},k=a=>{f("/things-todo-categories/edit",{state:{rowData:a}})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{url:l,isOpen:x,onClose:()=>h(!1),alt:"img"}),e.jsx(w,{onConfirm:N,onCancel:()=>i(!1),isOpen:n,message:"Are you sure you want to delete this item?",confirmText:"Delete",cancelText:"Cancel",isLoading:m}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)]",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:u.map((a,r)=>e.jsx("th",{scope:"col",className:"table-th",children:a.label},r))})}),e.jsx("tbody",{className:"bg-white dark:bg-transparent divide-y divide-gray-100 dark:divide-[var(--border-secondary)]",children:t.length>0&&t.map((a,r)=>e.jsxs("tr",{className:`align-top ${r%2!==0?"bg-gray-50/50 dark:bg-[var(--surface-elevated)]/30":"bg-white dark:bg-transparent"}`,children:[e.jsx("td",{className:"table-td",children:a.id}),e.jsx("td",{className:"table-td",children:a.name}),e.jsx("td",{className:"table-td",children:a.name_ar}),e.jsx("td",{className:"table-td",children:a.image_url?e.jsx("img",{src:a.image_url,alt:`${a.name} image`,className:"w-10 h-10 object-contain cursor-pointer hover:scale-110 transition-all active:scale-100  rounded-md border border-gray-200 dark:border-[var(--border-primary)]",onClick:()=>{h(!0),o(a.image_url)}}):e.jsx("span",{className:"text-gray-400 italic",children:"No Image"})}),e.jsx("td",{className:"table-td",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{onClick:()=>k(a),size:20,className:"dark:text-gray-400 text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"}),e.jsx(P,{onClick:()=>{i(!0),p(a.id)},size:20,className:"dark:text-gray-400 text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"})]})})]},r))})]})})]})},j=[{label:"ID"},{label:"Name"},{label:"Name Arabic"},{label:"Image"},{label:"Action"}],q=()=>{const[u,t]=s.useState([]),[b,y]=s.useState({}),[g,f]=s.useState(1),[n,i]=s.useState(""),[d,p]=s.useState(!1),[m,c]=s.useState(!1),[x,h]=s.useState("");return s.useEffect(()=>{const l=setTimeout(()=>{h(n)},350);return()=>{clearTimeout(l)}},[n]),s.useEffect(()=>{(async()=>{try{c(!0);const o=await K(9,g,x);t(o.data.items||[]),y(o.data.pagination||{})}catch(o){console.log(o)}finally{c(!1)}})()},[g,d,x]),e.jsx("div",{children:e.jsxs(D,{noborder:!0,children:[e.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-100 dark:border-[var(--border-secondary)]",children:[e.jsx("h1",{className:"md:text-2xl text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Service Categories"}),e.jsx("p",{className:"md:text-base text-[14px] text-gray-500 dark:text-gray-400 mt-1",children:"Browse, search, and manage service categories"})]}),e.jsx("div",{className:"flex items-center w-full flex-col mt-3",children:e.jsxs("div",{className:"flex justify-between w-full mb-5",children:[e.jsx("div",{className:"flex items-center gap-2 overflow-hidden",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:l=>i(l.target.value),className:"w-full pl-9 pr-3 py-2 text-sm rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)] bg-gray-50/50 dark:bg-[var(--surface-elevated)] text-gray-700 dark:text-slate-200 placeholder-gray-400 dark:placeholder-slate-500 outline-none focus:border-indigo-300 dark:focus:border-indigo-500/50 focus:ring-2 focus:ring-indigo-500/10 transition-all"}),e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-slate-500 w-4 h-4"})]})}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-3.5 py-2 text-sm font-medium rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)] bg-white dark:bg-[var(--surface-elevated)] text-gray-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-[var(--surface-hover)] transition-colors flex-shrink-0",children:[e.jsx("span",{className:"sm:block hidden",children:"Export"}),e.jsx(_,{size:20})]})]})}),m?e.jsx(L,{columns:j,rows:12}):e.jsx(O,{columns:j,thingsTodoCategories:u,setThingsTodoCategories:t,refetch:d,setRefetch:p}),e.jsx("div",{className:"my-4 w-full flex justify-center",children:e.jsx(z,{onPageChange:f,pagination:b,isLoading:m})})]})})};export{q as default};
