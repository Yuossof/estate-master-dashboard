import{j as e,I as p,a as f,P as u,u as j,r as x,C as b,A as y,D as N}from"./index-DSdmN7-O.js";import{c as v}from"./things-todo-categories-D0T3wXps.js";const C=({thingsTodoCategoryData:s,setThingsTodoCategoryData:t,handleSubmit:c,errors:n,setErrors:i,isLoading:o})=>{const r=d=>{const{name:a,value:l}=d.target;i(m=>({...m,[a]:""})),t(m=>({...m,[a]:l}))};return e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),e.jsx(p,{type:"text",placeholder:"Name",name:"name",id:"name",value:s.name,onChange:r}),n.name&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",n.name[0]]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name_ar",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name Arabic"}),e.jsx(p,{type:"text",placeholder:"Name Arabic",name:"name_ar",id:"name_ar",value:s.name_ar,onChange:r}),n.name_ar&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",n.name_ar[0]]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"logo",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Image"}),e.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[e.jsxs("label",{htmlFor:"image",className:"flex flex-col items-center justify-center w-full h-32 px-3 border-2 border-dashed border-gray-300 dark:border-[var(--border-primary)] rounded-md cursor-pointer hover:border-blue-500 dark:hover:border-sky-400 transition-colors",children:[s.image?e.jsx("img",{src:s.image instanceof File?URL.createObjectURL(s.image):s.image,alt:"Company Logo",className:"w-20 h-20 object-contain mb-2 border-[1px] border-slate-200 rounded-md"}):e.jsx(f,{size:40,className:"mb-2 text-gray-400"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Update Image"})]}),e.jsx("input",{type:"file",name:"image",id:"image",className:"hidden",onChange:d=>{const a=d.target.files[0];t(l=>({...l,image:a}))}})]})]})]})}),e.jsx("div",{className:"mt-6 flex w-full md:justify-end",children:e.jsxs("button",{disabled:o,style:{opacity:o?"0.6":"1"},type:"button",className:"btn-primary flex items-center gap-3 justify-center h-10 px-3 rounded-md md:w-auto w-full",onClick:c,children:[e.jsx("span",{children:"Create"}),e.jsx(u,{})]})})]})},w={name:"",name_ar:"",image:null},T=()=>{const s=j(),[t,c]=x.useState(w),[n,i]=x.useState(!1),[o,r]=x.useState({}),d=async()=>{try{const a=new FormData;try{a.append("name",t.name),a.append("name_ar",t.name_ar),a.append("image",t.image),r({})}catch(m){if(m.inner){const g={};m.inner.forEach(h=>{g[h.path]=h.message}),r(g)}return}i(!0);const l=await v(a);l.status==="success"&&s("/things-todo-categories"),console.log("Response data:",l)}catch(a){a instanceof y?r(a.errors):r(N.errors)}finally{i(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-100 dark:border-[var(--border-secondary)]",children:[e.jsx("h1",{className:"md:text-2xl text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Create Things Todo Category"}),e.jsx("p",{className:"md:text-base text-[14px] text-gray-500 dark:text-gray-400 mt-1",children:"Add a new things todo category"})]}),e.jsx(C,{thingsTodoCategoryData:t,setThingsTodoCategoryData:c,errors:o,setErrors:r,handleSubmit:d,isLoading:n})]})})};export{T as default};
