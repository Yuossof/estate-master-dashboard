import{u as j,r,j as e,w as N,S,T as k,A as C,Q as y,D as w,C as A,y as I,F as E,z as P,G as T}from"./index-DSdmN7-O.js";import{d as D,g as R}from"./shop-categories-Dp5hI-It.js";const L=({columns:h,shopCategoryRows:l=[],setShopCategoryRows:m,setRefetch:b,refetch:c})=>{const p=j(),[o,n]=r.useState(!1),[d,u]=r.useState(null),[g,i]=r.useState(!1),x=async()=>{try{i(!0);const a=await D(d);console.log("delete shop category result",a),n(!1);const s=l.filter(v=>v.id!==d);m(s),s.length===0&&b(!c)}catch(a){a instanceof C?y.error(a.errors):y.error(w.errors)}finally{i(!1)}},t=a=>{p("/shop-categories/edit",{state:{rowData:a}})};return e.jsxs(e.Fragment,{children:[e.jsx(N,{onConfirm:x,onCancel:()=>n(!1),isOpen:o,message:"Are you sure you want to delete this item?",confirmText:"Delete",cancelText:"Cancel",isLoading:g}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)]",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:h.map((a,s)=>e.jsx("th",{scope:"col",className:"table-th",children:a.label},s))})}),e.jsx("tbody",{className:"bg-white dark:bg-transparent divide-y divide-gray-100 dark:divide-[var(--border-secondary)]",children:l.length>0&&l.map((a,s)=>e.jsxs("tr",{className:`align-top ${s%2!==0?"bg-gray-50/50 dark:bg-[var(--surface-elevated)]/30":"bg-white dark:bg-transparent"}`,children:[e.jsx("td",{className:"table-td",children:a.id}),e.jsx("td",{className:"table-td",children:a.name}),e.jsx("td",{className:"table-td",children:a.name_ar}),e.jsx("td",{className:"table-td",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{onClick:()=>t(a),size:20,className:"dark:text-gray-400 text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"}),e.jsx(k,{onClick:()=>{n(!0),u(a.id)},size:20,className:"dark:text-gray-400 text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer"})]})})]},s))})]})})]})},f=[{label:"ID"},{label:"Name"},{label:"Name Arabic"},{label:"Action"}],O=()=>{const[h,l]=r.useState([]),[m,b]=r.useState({}),[c,p]=r.useState(1),[o,n]=r.useState(""),[d,u]=r.useState(!1),[g,i]=r.useState(!1);return r.useEffect(()=>{(async()=>{try{i(!0);const t=await R(9,c,o);l(t.data.items||[]),b(t.data.pagination||{}),console.log(t)}catch(t){console.log(t)}finally{i(!1)}})()},[c,d,o]),e.jsx("div",{children:e.jsxs(A,{noborder:!0,children:[e.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-100 dark:border-[var(--border-secondary)]",children:[e.jsx("h1",{className:"md:text-2xl text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Shop Categories"}),e.jsx("p",{className:"md:text-base text-[14px] text-gray-500 dark:text-gray-400 mt-1",children:"Browse, search, and manage shop categories"})]}),e.jsx("div",{className:"flex items-center w-full flex-col mt-3",children:e.jsxs("div",{className:"flex justify-between w-full mb-5",children:[e.jsx("div",{className:"flex items-center gap-2 overflow-hidden",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:x=>n(x.target.value),className:"w-full pl-9 pr-3 py-2 text-sm rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)] bg-gray-50/50 dark:bg-[var(--surface-elevated)] text-gray-700 dark:text-slate-200 placeholder-gray-400 dark:placeholder-slate-500 outline-none focus:border-indigo-300 dark:focus:border-indigo-500/50 focus:ring-2 focus:ring-indigo-500/10 transition-all"}),e.jsx(I,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-slate-500 w-4 h-4"})]})}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-3.5 py-2 text-sm font-medium rounded-lg border border-gray-200/80 dark:border-[var(--border-primary)] bg-white dark:bg-[var(--surface-elevated)] text-gray-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-[var(--surface-hover)] transition-colors flex-shrink-0",children:[e.jsx("span",{className:"sm:block hidden",children:"Export"}),e.jsx(E,{size:20})]})]})}),g?e.jsx(P,{columns:f,rows:12}):e.jsx(L,{columns:f,shopCategoryRows:h,setShopCategoryRows:l,refetch:d,setRefetch:u}),e.jsx("div",{className:"my-4 w-full flex justify-center",children:e.jsx(T,{onPageChange:p,pagination:m,isLoading:g})})]})})};export{O as default};
