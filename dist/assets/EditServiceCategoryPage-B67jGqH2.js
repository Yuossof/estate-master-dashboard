import{j as e,I as f,b as y,S as j,u as v,d as N,r as o,C,Q as b,A as S,D as E}from"./index-DSdmN7-O.js";import{u as _}from"./service-categories-DSCKs9SA.js";const w=({serviceCategories:c,setServiceCategories:p,handleSubmit:r,errors:t,setErrors:l,isLoading:i})=>{const n=d=>{const{name:s,value:x}=d.target;l(a=>({...a,[s]:""})),p(a=>({...a,[s]:x}))};return e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),e.jsx(f,{type:"text",placeholder:"Name",name:"name",id:"name",value:c.name,onChange:n}),t.name&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.name]})]}),e.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[e.jsx("label",{htmlFor:"name_ar",className:"px-1 text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name Arabic"}),e.jsx(f,{type:"text",placeholder:"Name Arabic",name:"name_ar",id:"name_ar",value:c.name_ar,onChange:n}),t.name_ar&&e.jsxs("p",{className:"text-[13px] text-red-500 mt-2 ml-1",children:["*",t.name_ar]})]})]})}),e.jsxs("div",{className:"mt-6 flex w-full md:justify-end",children:[e.jsx(y,{}),e.jsxs("button",{disabled:i,style:{opacity:i?"0.6":"1"},type:"button",className:"btn-primary flex items-center gap-3 justify-center h-9 px-3 rounded-md md:w-auto w-full",onClick:r,children:[e.jsx("span",{children:"Update"}),e.jsx(j,{})]})]})]})},k=()=>{const c=v(),r=N().state.rowData,[t,l]=o.useState({}),[i,n]=o.useState(!1),[d,s]=o.useState({});o.useEffect(()=>{l(r)},[r]);const x=async()=>{try{const a=new FormData;try{a.append("name",t.name),a.append("name_ar",t.name_ar),s({})}catch(u){if(u.inner){const g={};u.inner.forEach(h=>{g[h.path]=h.message}),s(g)}return}n(!0);const m=await _(a,r.id);console.log("Response data:",m),b.success(m.message||m.massage),m.status==="success"&&c("/service-categories")}catch(a){a instanceof S?s(a.errors):s(E.errors)}finally{n(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs("div",{className:"mb-8 mt-2",children:[e.jsx("h1",{className:"md:text-2xl text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Create Service Category"}),e.jsx("p",{className:"text-gray-600 md:text-base text-[14px] dark:text-gray-400 mt-2",children:"update your service category"})]}),e.jsx(w,{serviceCategories:t,setServiceCategories:l,errors:d,setErrors:s,handleSubmit:x,isLoading:i})]})})};export{k as default};
